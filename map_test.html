<!DOCTYPE html>
<html>
<head>
    <title>Тест локальной карты</title>
    <link rel="stylesheet" href="static/maplibre/maplibre-gl.css">
    <style>
        #map { width: 100%; height: 500px; }
    </style>
</head>
<body>
    <h1>Тест локальной карты MapLibre</h1>
    <div id="map"></div>

    <script src="static/maplibre/maplibre-gl.js"></script>
    <script>
        console.log('Проверка локальных файлов...');
        console.log('MapLibre:', typeof maplibregl);
        
        if (typeof maplibregl !== 'undefined') {
            console.log('✅ MapLibre загружен локально!');
            
            const map = new maplibregl.Map({
                container: 'map',
                style: {
                    version: 8,
                    sources: {
                        'osm': {
                            type: 'raster',
                            tiles: ['https://tile.openstreetmap.org/{z}/{x}/{y}.png'],
                            tileSize: 256
                        }
                    },
                    layers: [{
                        id: 'osm-tiles',
                        type: 'raster',
                        source: 'osm',
                        minzoom: 0,
                        maxzoom: 22
                    }]
                },
                center: [45.041080, 53.186031],
                zoom: 10
            });

            map.addControl(new maplibregl.NavigationControl());
            
        } else {
            console.error('❌ MapLibre не загружен');
        }
    </script>
</body>
</html>